#!/usr/bin/env ruby
$-w = true
$:.unshift(File.dirname(__FILE__)+"/../lib/")

require "string_additions"
require "sources_info"

if ARGV.size != 1
  $stderr.puts "Usage: ProcessSources <SourcesFile>"
  exit(1)
end

s = SourcesInfo.new(ARGV[0])

bin = "libgeda-dev"
pkg = s.bin_to_package(bin)
file = s.package_to_file(pkg)
puts "bin: #{bin}\n pkg: #{pkg}\n orig: #{file.orig.filename}\n diff: #{file.diff.filename}\n dsc: #{file.dsc.filename}"

file.download("/tmp/")
